<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name='description' content='CNode：Node.js专业中文社区'>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="keywords" content="nodejs, node, express, connect, socket.io"/>
    <meta name="referrer" content="always">
    <meta name="author" content="EDP@TaoBao"/>
    <meta property="wb:webmaster" content="617be6bd946c6b96"/>
    <link title="RSS" type="application/rss+xml" rel="alternate" href="/rss"/>
    <link rel="icon" href="//o4j806krb.qnssl.com/public/images/cnode_icon_32.png" type="image/x-icon"/>
    <link rel="stylesheet" href="//o4j806krb.qnssl.com/public/stylesheets/index.min.9d1ebdbb.min.css" media="all"/>
    <script src="//o4j806krb.qnssl.com/public/index.min.aeb155e1.min.js"></script>
    <meta content="qgCcs8s6-QwIR9-t0aoQ-S7H7VZOf4902ct4" name="csrf-token">
    <meta content="_csrf" name="csrf-param">
    <title>项目说明</title>
    <style type="text/css">
        a{text-decoration:none;}

    </style>
</head>
<body>
<div class='navbar'>
    <div class='navbar-inner'>
        <div class='container'>
            <a class='brand' href='/topic'>
                <img src="//o4j806krb.qnssl.com/public/images/cnodejs_light.svg"/>
            </a>
            <ul class='nav pull-right'>
                <li><a href='/topic'>首页</a></li>
                <li>
                    <a href="/topic/about">项目说明</a>
                </li>
                {% if user %}
                <li>
                    <a href="{{ url_for('index.new_profile') }}">个人资料</a>
                </li>
                {% endif %}
                {% if user.role ==0 %}
                <li>
                    <a href="/board/admin">版块管理</a>
                </li>
                {% endif %}
                <li>
                    <a href="/register">注册</a>
                </li>
                {% if user %}
                <li>
                    <a href="/topic/logout">退出</a>
                </li>
                {% else %}
                <li>
                    <a href="/login">登录</a>
                </li>
                {% endif %}
            </ul>
        </div>
    </div>
</div>
<div id='main'>
    <div id='sidebar'>

        <div class='panel'>

            <div class='header'>
                <span class='col_fade'>个人信息</span>
            </div>
            <div class='inner'>
                <div class='user_card'>
                    <a class='user_avatar'>
                        <img src="https://avatars0.githubusercontent.com/u/26594947?v=4&amp;s=120"
                             title="wangchonglie"/>
                    </a>
                    <span class='user_name'><a class='dark'>王崇烈</a></span>
                    <div class="space clearfix"></div>
                    <span class="signature">
                            “一个Web开发学徒”
                        </span>
                </div>
            </div>
        </div>
        {% if user %}
        <div class="panel">
            <div class='inner'>
                <a href="/topic/new" class="create_topic_btn">
                    <span class="span-success">发布话题</span>
                </a>
            </div>
        </div>
        {% endif %}
        <div class='panel'>
            <div class='header'>
                <span class='col_fade'>微信二维码</span>
            </div>
            <div class='inner cnode-app-download'>
                <img src="{{'/uploads/' + 'wechat.jpg'}}"/>
                <br/>
                <a href="https://github.com/wangchonglie/cnodejs" target="_blank">GitHub地址</a>
                <br/>
                <a>18665141213</a>
            </div>
        </div>

    </div>


    <div id='content'>
        <div class='panel'>
            <div class='header'>
                <ul class='breadcrumb'>
                    <h3>项目说明</h3>
                </ul>
            </div>
            <div class='inner topic'>
                <div class="topic_content">
                    <div class="markdown-text">
                        <p>这个项目是仿照网站<a href="https://cnodejs.org/">Cnode社区</a>编写的。</p>
                        <p>使用的前端技术分别有HTML、CSS、Bootstrap、jQuery、ajax等。</p>
                        <p>使用的后端技术有Python、Flask框架、MongoDB数据库。</p>
                        <p>部署用的是阿里云的服务器，涉及到的技术有Linux、Nginx、Gunicorn。</p>
                        <p>个人简历：<a href="https://github.com/wangchonglie/cv/blob/master/Python%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91_%E7%8E%8B%E5%B4%87%E7%83%88_18665141213.pdf">请点击这里</a></p>
                    </div>
                </div>
            </div>
            <div class='header'>
                <ul class='breadcrumb'>
                    <h3>功能说明</h3>
                </ul>
            </div>
            <div class='inner topic'>
                <div class="topic_content">
                    <div class="markdown-text">
                        <p>此网站涉及到的用户角色有：管理员、普通用户、未登录用户。</p>
                        <h4>管理员权限：</h4>
                        <p>账号：admin; 密码：admin。</p>
                        <p>置顶话题、取消置顶话题、删除话题（本网站涉及到的删除均为假性删除，可根据实际需要恢复，以下涉及到的删除不再赘述）；</p>
                        <p>管理员可增加/删除版块，非管理员无法查看和进入此链接。</p>
                        <p>管理员具有普通用户和未登录用户的所有功能。</p>
                        <h4>普通用户权限：</h4>
                        <p>登录网站、浏览话题、发布话题、删除本人发布的话题、查看并修改个人信息。</p>
                        <h4>未登录用户权限：</h4>
                        <p>浏览话题，查看网站公开发布的内容。</p>
                    </div>
                </div>
            </div>
            <div class='header'>
                <ul class='breadcrumb'>
                    <h3>开发中遇到的“坑”</h3>
                </ul>
            </div>
            <div class='inner topic'>
                <div class="topic_content">
                    <div class="markdown-text">
                        <h4>1、MongoDB的排序：</h4>
                        <p>在很多教学网站上，MongoDB的排序是这样的：db.COLLECTION_NAME.find().sort({KEY:1})，但实际应该为</p>
                        <p>db.COLLECTION_NAME.find().sort([(KEY:1)])。</p>
                        <h4>2、JS跳转导致session丢失：</h4>
                        <p>原因：window.location.href 之后，重新创建了一个新的httpcontext，所以导致session丢失了。</p>
                        <p>解决方案：</p>
                        <p>1、把session数据带到你重定向的页面去，具体参照：点击打开链接</p>
                        <p>2、把重定向操作放到后台去做，这样页面就不会创建新的httpContext，session数据就能获取到了</p>
                        <p>本网站采用的是第1种方案，利用sessionStorage存储session。</p>
                        <h4>3、ajax的反馈函数success和error有时可以执行，有时又不能执行：</h4>
                        <p>解决方案：在用ajax提交表单时，要把button标签放到form外面。</p>
                        <p>注意：ajax对于json的要求非常严格，当定义dataType: 'json'后，后台返回的一定要是标准的json格式。</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div id='backtotop'>回到顶部</div>
    <div style="display:none;">
        <script src="//s95.cnzz.com/z_stat.php?id=1254020586&web_id=1254020586" language="JavaScript"></script>
    </div>


</body>
</html>
